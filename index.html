<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HardHatHub | Canada's Warehouse Traffic Driver</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:ital,wght@0,400;0,500;0,600;0,700;0,800;1,800&display=swap');
        :root { font-family: 'Plus Jakarta Sans', sans-serif; }
        body { font-family: 'Plus Jakarta Sans', sans-serif; -webkit-font-smoothing: antialiased; }
        .glass-nav { background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); }
        .job-card { transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); border: 1.5px solid #f1f5f9; }
        .job-card:hover { transform: translateY(-4px); border-color: #facc15; box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.05); }
        .btn-yellow { background-color: #facc15; transition: all 0.2s ease; }
        .btn-yellow:hover { background-color: #000; color: #fff; transform: scale(1.02); }
        
        /* Legal Scroll Styling */
        .legal-box { max-height: 400px; overflow-y: auto; padding-right: 15px; }
        .legal-box::-webkit-scrollbar { width: 4px; }
        .legal-box::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
    </style>
</head>
<body class="bg-[#F8FAFC] text-slate-900 flex flex-col min-h-screen">

    <nav class="glass-nav border-b border-slate-200 py-4 sticky top-0 z-[100]">
        <div class="max-w-6xl mx-auto px-4 flex justify-between items-center">
            <h1 class="text-xl md:text-2xl font-black tracking-tighter cursor-pointer" onclick="window.location.reload()">
                <span class="bg-yellow-500 text-black px-2 py-0.5 rounded">HH</span>
                <span class="uppercase">HARDHAT<span class="text-yellow-500">HUB</span></span>
            </h1>
            <div class="flex items-center gap-4">
                <button onclick="openModal('pricing')" class="bg-yellow-500 text-black px-5 py-2.5 rounded-xl font-extrabold text-xs shadow-lg uppercase tracking-tight hover:bg-black hover:text-white transition-all">Boost Your Listing ‚Äî $49</button>
            </div>
        </div>
    </nav>

    <main class="flex-grow max-w-6xl mx-auto px-4 py-12 w-full">
        <div class="max-w-2xl">
            <h2 class="text-5xl font-black italic uppercase tracking-tighter leading-none mb-4">The Industrial<br><span class="text-yellow-500">Pipeline</span></h2>
            <p class="text-slate-500 font-bold uppercase text-xs tracking-widest italic">Driving high-intent traffic to Canada's top warehouse roles.</p>
        </div>

        <div class="mt-10 relative max-w-xl">
            <input type="text" id="searchInput" onkeyup="handleSearch()" placeholder="Search City, Company, or Role..." class="w-full pl-12 pr-4 py-5 rounded-3xl border border-slate-200 focus:ring-4 focus:ring-yellow-400/20 focus:border-yellow-400 outline-none transition-all font-bold shadow-sm">
            <span class="absolute left-5 top-1/2 -translate-y-1/2 opacity-30 text-xl">üîç</span>
        </div>

        <div id="job-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-12"></div>
    </main>

    <footer class="bg-white border-t border-slate-200 pt-16 pb-12 mt-20">
        <div class="max-w-6xl mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-12 mb-12">
                <div>
                    <h1 class="text-xl font-black mb-4 uppercase tracking-tighter">HARDHAT<span class="text-yellow-500">HUB</span></h1>
                    <p class="text-slate-400 font-bold text-[10px] uppercase tracking-widest leading-relaxed">The #1 High-Intent Traffic Channel for Canada's Logistics Workforce.</p>
                </div>
                <div class="md:col-span-2 flex flex-wrap gap-8 md:justify-end">
                    <div>
                        <h4 class="font-black text-[11px] uppercase tracking-widest mb-4 text-slate-300">Compliance</h4>
                        <ul class="text-slate-600 text-[11px] space-y-3 font-bold uppercase tracking-wider">
                            <li><button onclick="openModal('terms')" class="hover:text-yellow-600">Terms of Use</button></li>
                            <li><button onclick="openModal('privacy')" class="hover:text-yellow-600">Privacy Policy</button></li>
                            <li><button onclick="openModal('security')" class="hover:text-yellow-600">Security Center</button></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="pt-8 border-t border-slate-100 flex justify-between items-center">
                <p class="text-[9px] font-black text-slate-400 uppercase tracking-widest">¬© 2026 HARDHAT HUB CANADA. AN AGGREGATOR SERVICE.</p>
            </div>
        </div>
    </footer>

    <div id="modal-overlay" class="fixed inset-0 bg-slate-900/70 backdrop-blur-md z-[300] hidden flex items-center justify-center p-4" onclick="handleOverlayClick(event)">
        <div id="modal-container" class="bg-white w-full max-w-2xl rounded-[3rem] p-8 md:p-12 relative shadow-2xl border border-white/20">
            <button onclick="closeModal()" class="absolute top-8 right-8 text-2xl text-slate-300 hover:text-black">&times;</button>
            <div id="modal-content" class="max-h-[75vh] overflow-y-auto pr-2 custom-scroll"></div>
        </div>
    </div>

    <script>
        const SB_URL = "https://oakwbsqdcljxckfmjyva.supabase.co"; 
        const SB_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9ha3dic3FkY2xqeGNrZm1qeXZhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg3NTI3NDcsImV4cCI6MjA4NDMyODc0N30.T_S_AeKeeM13cNPnggh26xj9jGNgCLocB5n84pjDqfI";
        const _supabase = supabase.createClient(SB_URL, SB_KEY);
        let allJobs = [];

        async function fetchJobs() {
            const { data } = await _supabase.from('jobs').select('*').order('created_at', { ascending: false });
            allJobs = data || [];
            renderJobs(allJobs);
        }

        function renderJobs(jobs) {
            const grid = document.getElementById('job-grid');
            grid.innerHTML = jobs.map((job, index) => `
                <div class="job-card bg-white p-8 rounded-[2.5rem] flex flex-col justify-between shadow-sm">
                    <div>
                        <span class="bg-slate-100 text-slate-600 text-[9px] font-black px-3 py-1.5 rounded-full uppercase tracking-widest">${(job.tags && job.tags[0]) || 'WAREHOUSE'}</span>
                        <h3 class="text-xl font-black leading-tight mt-4 uppercase italic tracking-tighter mb-1">${job.title}</h3>
                        <p class="text-xs font-bold text-slate-400 uppercase tracking-widest">üè¢ ${job.company}</p>
                    </div>
                    <div class="mt-8">
                        <p class="text-sm font-black text-slate-900 italic mb-4">üìç ${job.location}</p>
                        <button onclick="openJobTeaser('${job.id || index}')" class="btn-yellow w-full py-4 rounded-2xl text-black font-black uppercase tracking-widest text-[11px] shadow-md">Quick View</button>
                    </div>
                </div>
            `).join('');
        }

        const legalContent = {
            terms: `
                <h2 class="text-3xl font-black italic uppercase mb-6 tracking-tighter">Terms of Use</h2>
                <div class="legal-box text-xs font-semibold text-slate-600 leading-relaxed uppercase tracking-tight">
                    <p class="mb-4 text-black">LAST UPDATED: JANUARY 2026</p>
                    <p class="mb-4 italic">BY ACCESSING HARDHATHUB.CA, YOU AGREE TO BE BOUND BY THE FOLLOWING TERMS. IF YOU DO NOT AGREE, DISCONTINUE USE IMMEDIATELY.</p>
                    <h4 class="text-black font-black mb-2 mt-4">1. SCOPE OF SERVICE</h4>
                    <p class="mb-4">HARDHATHUB IS A PURE-PLAY AGGREGATOR. WE DO NOT EMPLOY WORKERS, FACILITATE APPLICATIONS, OR VET THE LEGITIMACY OF EXTERNAL JOB POSTINGS. WE PROVIDE HIGH-INTENT TRAFFIC ROUTING TO THIRD-PARTY SITES.</p>
                    <h4 class="text-black font-black mb-2 mt-4">2. EXTERNAL LINKS & LIABILITY</h4>
                    <p class="mb-4">THIS SITE CONTAINS LINKS TO EXTERNAL WEBSITES. HARDHATHUB EXERCISES NO CONTROL OVER THE CONTENT, PRIVACY POLICIES, OR PRACTICES OF THIRD-PARTY EMPLOYERS. WE EXPRESSLY DISCLAIM ALL LIABILITY FOR ANY LOSS OR DAMAGE INCURRED THROUGH THE USE OF EXTERNAL LINKS.</p>
                    <h4 class="text-black font-black mb-2 mt-4">3. USER CONDUCT</h4>
                    <p class="mb-4">USERS AGREE NOT TO SCRAPE, CRAWL, OR HARVEST DATA FROM THIS PORTAL WITHOUT EXPRESS WRITTEN PERMISSION. UNAUTHORIZED USE OF THE HARDHATHUB TRADEMARK IS STRICTLY PROHIBITED.</p>
                    <h4 class="text-black font-black mb-2 mt-4">4. NO WARRANTY</h4>
                    <p class="mb-4">SERVICES ARE PROVIDED "AS IS." WE DO NOT WARRANT THAT JOB LISTINGS ARE ACCURATE, COMPLETE, OR CURRENT. WE ARE NOT RESPONSIBLE FOR THE HIRING DECISIONS OF THIRD-PARTY EMPLOYERS.</p>
                </div>`,
            privacy: `
                <h2 class="text-3xl font-black italic uppercase mb-6 tracking-tighter">Privacy Policy</h2>
                <div class="legal-box text-xs font-semibold text-slate-600 leading-relaxed uppercase tracking-tight">
                    <p class="mb-4 text-black">PRIVACY COMPLIANCE: PIPEDA & PIPA</p>
                    <h4 class="text-black font-black mb-2 mt-4">1. DATA COLLECTION</h4>
                    <p class="mb-4">HARDHATHUB DOES NOT COLLECT, STORE, OR PROCESS PERSONAL RESUMES OR APPLICATION DATA. WE COLLECT ANONYMIZED TRAFFIC ANALYTICS TO IMPROVE SERVICE DELIVERY.</p>
                    <h4 class="text-black font-black mb-2 mt-4">2. COOKIES & TRACKING</h4>
                    <p class="mb-4">WE USE ESSENTIAL COOKIES TO MAINTAIN SITE PERFORMANCE. THIRD-PARTY PARTNERS (SUCH AS STRIPE OR SUPABASE) MAY COLLECT ANONYMIZED DATA IN ACCORDANCE WITH THEIR OWN PRIVACY PROTOCOLS.</p>
                    <h4 class="text-black font-black mb-2 mt-4">3. THIRD-PARTY DISCLOSURE</h4>
                    <p class="mb-4">SINCE WE DO NOT COLLECT PERSONAL IDENTIFIABLE INFORMATION (PII) FROM WORKERS, WE DO NOT SELL OR RENT USER DATA. YOUR INTERACTION WITH EXTERNAL EMPLOYER LINKS IS GOVERNED BY THEIR RESPECTIVE PRIVACY POLICIES.</p>
                </div>`,
            security: `
                <h2 class="text-3xl font-black italic uppercase mb-6 tracking-tighter">Security Center</h2>
                <div class="legal-box text-xs font-semibold text-slate-600 leading-relaxed uppercase tracking-tight">
                    <h4 class="text-black font-black mb-2 mt-4">1. SECURE ROUTING</h4>
                    <p class="mb-4">ALL TRAFFIC ON HARDHATHUB IS ENCRYPTED VIA SSL/TLS PROTOCOLS. WE ENSURE THAT ALL REDIRECTS TO EMPLOYER SITES ARE CONDUCTED OVER SECURE CONNECTIONS.</p>
                    <h4 class="text-black font-black mb-2 mt-4">2. PAYMENT SECURITY</h4>
                    <p class="mb-4">EMPLOYER PAYMENTS FOR BOOSTED LISTINGS ARE PROCESSED EXCLUSIVELY BY STRIPE. HARDHATHUB NEVER STORES CREDIT CARD NUMBERS OR SENSITIVE BILLING DATA ON ITS OWN SERVERS.</p>
                    <h4 class="text-black font-black mb-2 mt-4">3. REPORTING FRAUD</h4>
                    <p class="mb-4">IF YOU ENCOUNTER A SUSPICIOUS EXTERNAL LINK OR A FRAUDULENT JOB POSTING, PLEASE NOTIFY SECURITY@HARDHATHUB.CA IMMEDIATELY FOR REMOVAL.</p>
                </div>`
        };

        function openModal(type) {
            const content = legalContent[type];
            if (content) {
                document.getElementById('modal-content').innerHTML = content;
            } else if (type === 'pricing') {
                document.getElementById('modal-content').innerHTML = `<h2 class="text-3xl font-black italic uppercase mb-6">Boost Your Ad</h2><button class="w-full bg-yellow-500 p-6 rounded-2xl font-black uppercase shadow-xl">Post Now ‚Äî $49</button>`;
            }
            document.getElementById('modal-overlay').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        function openJobTeaser(id) {
            const job = allJobs.find(j => (j.id == id || allJobs.indexOf(j) == id));
            if (!job) return;
            document.getElementById('modal-content').innerHTML = `
                <div class="space-y-6">
                    <h2 class="text-4xl font-black italic uppercase tracking-tighter leading-none">${job.title}</h2>
                    <p class="text-md font-bold text-slate-400 uppercase">${job.company} ‚Äî ${job.location}</p>
                    <div class="bg-slate-50 p-6 rounded-3xl border border-slate-100 text-sm font-extrabold uppercase text-slate-600">
                        ${job.description.split('\n').slice(0, 3).join('<br>')}...
                    </div>
                    <a href="${job.apply_link || '#'}" target="_blank" class="block w-full text-center bg-black text-white py-6 rounded-3xl font-black shadow-2xl uppercase tracking-widest text-sm hover:bg-yellow-500 hover:text-black transition-all">View Full Post ‚Üó</a>
                </div>`;
            document.getElementById('modal-overlay').classList.remove('hidden');
        }

        function closeModal() { document.getElementById('modal-overlay').classList.add('hidden'); document.body.style.overflow = 'auto';}
        function handleOverlayClick(e) { if (e.target.id === 'modal-overlay') closeModal(); }
        function handleSearch() {
            const q = document.getElementById('searchInput').value.toLowerCase();
            const filtered = allJobs.filter(j => j.title.toLowerCase().includes(q) || j.location.toLowerCase().includes(q));
            renderJobs(filtered);
        }
        window.onload = fetchJobs;
    </script>
</body>
</html>

      
